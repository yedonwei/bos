<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="keywords" content="jquery,ui,easy,easyui,web">
		<title>运单管理</title>
		<link rel="stylesheet" type="text/css" href="../../js/easyui/themes/default/easyui.css">
		<link rel="stylesheet" type="text/css" href="../../js/easyui/themes/icon.css">
		<link rel="stylesheet" type="text/css" href="../../js/easyui/ext/portal.css">
		<link rel="stylesheet" type="text/css" href="../../css/default.css">

		<script type="text/javascript" src="../../js/jquery-1.8.3.js"></script>
		<script type="text/javascript" src="../../js/easyui/jquery.easyui.min.js"></script>
		<script type="text/javascript" src="../../js/easyui/ext/jquery.portal.js"></script>
		<script type="text/javascript" src="../../js/easyui/ext/jquery.cookie.js"></script>
		<script src="../../js/easyui/locale/easyui-lang-zh_CN.js" type="text/javascript"></script>
		<script type="text/javascript">
			$.fn.serializeJson=function(){  
	            var serializeObj={};  
	            var array=this.serializeArray();  
	            var str=this.serialize();  
	            $(array).each(function(){  
	                if(serializeObj[this.name]){  
	                    if($.isArray(serializeObj[this.name])){  
	                        serializeObj[this.name].push(this.value);  
	                    }else{  
	                        serializeObj[this.name]=[serializeObj[this.name],this.value];
	                    }  
	                }else{  
	                    serializeObj[this.name]=this.value;   
	                }  
	            });  
	            return serializeObj;  
	        }; 
        	//查询
			function doSearch() {
                // 将form内容，转换为json
                var queryParams = $("#searchForm").serializeJson();
                //将表单中的数据放到查询的文本框中
			    $("#tt").datagrid('load',queryParams);
			}
			$(function(){
			    //导出exeal按钮
				$("#exportXlsBtn").click(function () {
					$("#searchForm").attr("action","../../report_exportXls.action");
					$("#searchForm").submit();
                });
            });
			$(function () {
                // 导出 PDF 按钮
                $("#exportJasperPdfBtn").click(function(){
                    // 下载效果
                    $("#searchForm").attr("action", "../../report_exportJasperPdf.action");
                    $("#searchForm").submit();
                });
            });
		</script>
	</head>

	<body>
		<div id="tb">
			<form id="searchForm" method="post">
				运单号：<input name="wayBillNum" style="line-height:26px;border:1px solid #ccc">
				发货地：<input name="sendAddress" style="line-height:26px;border:1px solid #ccc" >
				收货地：<input name="recAddress" style="line-height:26px;border:1px solid #ccc" >
				
				<select class="easyui-combobox" style="width:130px" name="sendProNum">
					<option value="">请选择快递产品类型</option>
					<option value="速运当日">速运当日</option>
					<option value="速运次日">速运次日</option>
					<option value="速运隔日">速运隔日</option>
				</select>
				
				<select class="easyui-combobox" style="width:120px" name="signStatus">
					<option value="0">请选择运单状态</option>
					<option value="1">待发货</option>
					<option value="2">派送中</option>
					<option value="3">已签收</option>
					<option value="4">异常</option>
				</select>
				
				<a href="javascript:void" class="easyui-linkbutton" plain="true" onclick="doSearch()">查询</a>
				<a id="exportXlsBtn" icon="icon-print" href="#" class="easyui-linkbutton" plain="true">导出Excel报表</a>
				<a id="exportJasperPdfBtn" icon="icon-print" href="#" class="easyui-linkbutton" plain="true">导出PDF报表</a>
			</form>
		</div>
		<table id="tt" class="easyui-datagrid" url="../../waybill_pageQuery.action" fit="true" toolbar="#tb" rownumbers="true" pagination="true">
			<thead>
				<tr>
					<th field="ck" checkbox="true"></th>
					<th field="wayBillNum" width="80">运单编号</th>
					<th field="sendName" width="80">寄件人</th>
					<th field="sendMobile" width="80">寄件人电话</th>
					<th field="sendCompany" width="80">寄件人公司</th>
					<th field="sendAddress" width="120">寄件人详细地址</th>
					<th field="recName" width="80">收件人</th>
					<th field="recMobile" width="80">收件人电话</th>
					<th field="recCompany" width="80">收件人公司</th>
					<th field="recAddress" width="120">收件人详细地址</th>
					<th field="sendProNum" width="80">产品类型</th>
					<th field="payTypeNum" width="80">支付类型</th>
					<th field="weight" width="80"> 重量</th>
					<th field="num" width="80"> 原件数</th>
					<th field="vol" width="80">体积</th>
					<th field="floadreqr" width="80">配载要求</th>
					<th field="wayBillType" width="80">运单类型</th>
				</tr>
			</thead>
		</table>
	</body>
</html>